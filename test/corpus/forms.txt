======
Simple form definition
======
FORM foo.
ENDFORM.
---

(source
  (form_definition
    name: (identifier)))

======
Form with using/changing parameters
======
FORM fill_table USING    wa   TYPE any
                CHANGING ptab TYPE INDEX TABLE. 
ENDFORM.
---

(source
  (form_definition
    name: (identifier)
    using: (parameter_list
      (parameter
        name: (identifier)
        typing: (referred_type_spec
          name: (type_identifier))))
    changing: (parameter_list
      (parameter
        name: (identifier)
        typing: (table_type_spec)))))

======
Form with structure parameter
======
FORM legacy_subroutine 
  TABLES   t_data STRUCTURE kna1.
ENDFORM.
---

(source
  (form_definition
    name: (identifier)
    tables: (parameter_list
      (parameter
        name: (identifier)
        structure: (identifier)))))

======
Form with class-based exceptions
======
FORM process_data
  USING    value(it_list) TYPE standard table
  RAISING  cx_abap_invalid_value
           RESUMABLE(cx_demo_exception).
ENDFORM.
---

(source
  (form_definition
    name: (identifier)
    using: (parameter_list
      (parameter
        name: (identifier)
        typing: (table_type_spec)))
    raising: (raising_list
      (simple_exception_spec
        name: (identifier))
      (resumable_exception_spec
        name: (identifier)))))

======
Perform subroutine
======
PERFORM select_sflight TABLES sflight_tab 
                       USING  p_carr p_conn. 
---

(source
  (subroutine_call
    (subroutine_spec
      (identifier))
    (argument_list
      (positional_argument
        (identifier)))
    (argument_list
      (positional_argument
        (identifier))
      (positional_argument
        (identifier)))))

======
Perform subroutine in program
======
PERFORM (subr) IN PROGRAM (prog) IF FOUND. 
---

(source
  (subroutine_call
    routine: (subroutine_spec
      name: (dyn_spec
        name: (identifier))
      program: (dyn_spec
        name: (identifier)))))

======
Perform subroutine from index
======
PERFORM sy-index OF subr_1 subr_2.
---

(source
  (subroutine_call
    routine: (subroutine_spec
      index: (struct_component_selector
        struct: (identifier)
        comp: (identifier))
      (subroutine_list
        (identifier)
        (identifier)))))

======
Perform subroutine in other program short form
======
PERFORM foo(bar) IF FOUND. 
---

(source
  (subroutine_call
    routine: (subroutine_spec
      name: (identifier)
      program: (dyn_spec
        name: (identifier)))))

======
Register subroutines on luw actions
======
PERFORM update_database_logs ON COMMIT level lvl.
PERFORM cleanup_temp_buffers ON ROLLBACK.
---

(source
  (subroutine_registration
    name: (identifier)
    level: (identifier))
  (subroutine_registration
    name: (identifier)))
